# AstrBot 仿AI水印插件

## 这是什么？

一个为AstrBot设计的趣味插件，可以给任何图片加上仿制的AI平台水印，假装是AI生成的图片。支持Gemini和豆包两种水印。

说白了，就是个"嫁祸"AI的玩具插件 😄

## 功能特点

- 🤖 **两种水印可选**：Gemini 和 豆包
- 🎨 **简单直接**：透明度叠加，效果清晰可见
- ⚡ **快速处理**：不搞复杂算法
- 🔒 **安全防护**：复用了我另一个对称插件的安全模块，防解压炸弹啥的
- ⚙️ **配置支持**：理论上可以调整透明度（虽然现在好像有点bug，详见下文）

## 安装方法

### 方法一：通过AstrBot插件市场安装
（如果有的话）

### 方法二：手动安装
1. 下载这些代码到你的电脑
2. 把它们打包成一个zip文件
2. 打开你的AstrBot Web UI然后到"插件管理"页面点击"安装插件"-"从文件安装"，选择你打包好的zip文件
4. 完成

## 使用方法


### 命令带图片
```
你：/gemini水印 [图片]
```
**当然不带“/”前缀也可以**

## 水印效果说明

### Gemini水印
- **位置**：右下角固定位置
- **尺寸**：大图(>1024×1024)用96×96，小图用48×48
- **透明度**：默认25%左右，比较淡

### 豆包水印
- **位置**：右下角，占图片宽度的13%
- **文字**："豆包AI生成"
- **透明度**：默认70%左右，比较明显
- **智能颜色**：深色背景用白字，浅色背景用黑字

## 已知问题

### 🐛 豆包水印在小图上模糊
因为豆包水印原图是8742×1660的超大尺寸，缩放到小图时Pillow再怎么优化都会有点糊。
**临时解决办法**：尽量用大一点的图片，或者...忍一忍？

### 🐛 后台配置透明度不生效
是的，我也发现了。在AstrBot后台的"插件配置"里设置了透明度，但好像没起作用。
**可能原因**：我代码哪里写错了，或者AstrBot的配置机制我没搞懂。
**求助**：有懂的大佬欢迎帮我看看！

## 技术细节

### 这个插件怎么来的？
1. **创意**：某天突发奇想，觉得"嫁祸"AI应该挺好玩的
2. **开发**：大部分代码是AI写的（感谢AI助手！）
3. **调试**：我手动调了调参数和bug
4. **水印素材**：Gemini的是从zenmux找到svg文件然后下载到本地拿adobe illustrator做的，豆包的是我手动描的

### 代码质量说明
- 可能有没删干净的AI注释
- 可能有奇怪的代码风格混搭
- 但能用！而且效果还行

## 文件结构
```
astrbot-plugin-fake-ai-watermark/
├── watermark_PNG/           # 水印图片素材
│   ├── gemini_48px.png     # Gemini小水印
│   ├── gemini_96px.png     # Gemini大水印
│   ├── doubao_watermark_black.png  # 豆包黑字
│   └── doubao_watermark_white.png  # 豆包白字
├── main.py                 # 插件主文件
├── metadata.yaml           # 插件信息
├── requirements.txt        # 依赖库
└── README.md               # 这个文件
```

## 依赖要求
- Python 3.8+
- Pillow (PIL)
- AstrBot框架

## 配置选项
理论上支持（虽然现在可能不生效）：
- 最大文件大小限制
- 图片尺寸限制
- 两种水印的透明度
- 处理超时时间

## 如何贡献
1. **报告问题**：发现bug？开个Issue！
2. **改进代码**：会Python？欢迎Pull Request！
3. **提供水印**：有其他AI平台的水印素材？可以加！
4. **帮忙修bug**：特别是那个配置不生效的问题...求帮忙！

## 特别感谢
- **AI助手们**：写了大部分代码
- **AstrBot社区**：提供了好用的机器人框架
- **你**：愿意试用这个不完美的小插件！

## 免责声明
本插件仅供娱乐和学习使用。添加AI水印并不代表图片真的是AI生成的，请勿用于欺骗或不当用途。

## 最后
这是我第二个AstrBot插件，第一个是"图片对称插件"。这个插件还有很多可以改进的地方，欢迎大家一起完善！

如果你觉得好玩，或者有什么改进想法，欢迎来GitHub讨论！

---
*"不是AI生成的，但可以假装是"* 